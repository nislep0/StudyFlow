# Лабораторна робота №2

## Розробка структури застосунку StudyFlow

---

## 1. Мета лабораторної роботи

Метою лабораторної роботи є проєктування архітектури веб-застосунку **StudyFlow**, а саме:

- розділення системи на логічні компоненти та модулі;
- опис взаємодії між компонентами;
- проєктування структури даних та їх зв’язків;
- опис процесів оновлення, зміни та агрегації даних у ключових сценаріях використання.

---

## 2. Загальний опис системи

**StudyFlow** – це клієнт-серверний веб-застосунок для студентів, який дозволяє керувати навчальними курсами та завданнями, відстежувати дедлайни й аналізувати прогрес виконання.

### Загальна архітектура

- **Frontend**: React + TypeScript
- **Backend**: Node.js (Express) + TypeScript
- **База даних**: PostgreSQL
- **Тип взаємодії**: HTTP REST API

---

## 3. Компонентна структура застосунку

### 3.1. Компоненти Frontend

#### 3.1.1. App Shell / Routing

Відповідає за ініціалізацію застосунку та маршрутизацію між сторінками:

- /login, /register
- /courses
- /assignments
- /dashboard

#### 3.1.2. Auth Module (Frontend)

Відповідає за автентифікацію користувача:

- форми логіну та реєстрації;
- збереження токена авторизації;
- управління станом поточного користувача.

#### 3.1.3. Courses Module (Frontend)

Функціонал:

- відображення списку курсів;
- створення, редагування та видалення курсів;
- взаємодія з API `/api/courses`.

#### 3.1.4. Assignments Module (Frontend)

Функціонал:

- відображення списку завдань;
- фільтрація за курсом, статусом та дедлайном;
- створення та редагування завдань.

#### 3.1.5. Dashboard Module (Frontend)

Відповідає за відображення агрегованої інформації:

- найближчі дедлайни;
- статистика виконаних та прострочених завдань.

#### 3.1.6. Shared / UI Module

Загальні UI-компоненти та хуки:

- кнопки, інпути, модальні вікна;
- загальні хуки для роботи з API та авторизацією.

---

### 3.2. Компоненти Backend

#### 3.2.1. HTTP API

Точка входу в серверну частину:

- конфігурація Express;
- middleware (JSON parser, CORS, error handling);
- маршрути API.

#### 3.2.2. Auth Module (Backend)

Відповідає за:

- реєстрацію користувачів;
- логін;
- видачу та перевірку JWT токенів.

#### 3.2.3. User Module

Сервіс для роботи з користувачами:

- створення та пошук користувачів;
- робота з таблицею `users`.

#### 3.2.4. Courses Module (Backend)

Функціонал:

- CRUD-операції над курсами;
- перевірка прав доступу користувача.

#### 3.2.5. Assignments Module (Backend)

Функціонал:

- CRUD-операції над завданнями;
- валідація зв’язку з курсом;
- оновлення статусу завдання.

#### 3.2.6. Dashboard / Statistics Module

Відповідає за:

- формування агрегованих даних;
- обчислення статистики для дашборду.

#### 3.2.7. Data Access Layer

Інкапсулює роботу з базою даних:

- ініціалізація підключення;
- виконання SQL/ORM-запитів.

---

## 4. Опис взаємодії компонентів (текстова діаграма)

```
[Frontend] --HTTP/REST--> [Backend API] --ORM/SQL--> [PostgreSQL]

Frontend:
  - Auth Module
  - Courses Module
  - Assignments Module
  - Dashboard Module
  - Shared/UI

Backend:
  - Auth Controller/Service
  - User Service
  - Courses Controller/Service
  - Assignments Controller/Service
  - Dashboard/Statistics Service
  - Data Access Layer
```

---

## 5. Модель даних (ER-діаграма)

### 5.1. Сутність Users

**Призначення:** зберігання інформації про користувачів.

Поля:

- id (PK)
- email (UNIQUE)
- password_hash
- full_name
- created_at
- updated_at

### 5.2. Сутність Courses

**Призначення:** зберігання навчальних курсів.

Поля:

- id (PK)
- user_id (FK → users.id)
- name
- description
- created_at
- updated_at

Зв’язок:

- один користувач може мати багато курсів (1:N).

### 5.3. Сутність Assignments

**Призначення:** зберігання навчальних завдань.

Поля:

- id (PK)
- course_id (FK → courses.id)
- title
- description
- status (planned | in_progress | done | overdue)
- priority (low | medium | high)
- due_date
- created_at
- updated_at

Зв’язок:

- один курс може мати багато завдань (1:N).

---

### 5.4. Текстове представлення ER-діаграми

```
USERS (1) ----< (N) COURSES (1) ----< (N) ASSIGNMENTS
```

---

## 6. Ключові сценарії оновлення та агрегації даних

### 6.1. Реєстрація користувача (Register)

1. Користувач відкриває сторінку реєстрації та вводить email і пароль.
2. Frontend виконує базову валідацію введених даних.
3. Надсилається запит POST /api/auth/register з обліковими даними користувача.
4. Backend перевіряє, чи не існує користувач з таким email.
5. У разі успіху пароль хешується та створюється новий запис у таблиці users.
6. Backend генерує JWT-токен та повертає його frontend-застосунку.
7. Frontend зберігає токен та переводить користувача на сторінку дашборду.

### 6.2. Авторизація користувача (Login)

1. Користувач відкриває сторінку входу та вводить email і пароль.
2. Frontend перевіряє коректність введених даних.
3. Надсилається запит POST /api/auth/login.
4. Backend шукає користувача за email та порівнює хеш пароля.
5. У разі успішної перевірки генерується JWT-токен.
6. Токен повертається frontend-застосунку та зберігається локально.
7. Користувач отримує доступ до захищених ресурсів системи.

### 6.3. Створення курсу

1. Користувач надсилає запит `POST /api/courses`.
2. Backend створює запис у таблиці `courses` з прив’язкою до користувача.
3. Дані зберігаються в БД та повертаються клієнту.

### 6.4. Створення та оновлення завдання

1. При створенні завдання створюється новий запис у таблиці `assignments` зі статусом `planned`.
2. При зміні статусу відбувається оновлення поля `status` та `updated_at`.

### 6.5. Формування дашборду

1. Frontend викликає `GET /api/dashboard/overview`.
2. Backend агрегує дані з таблиць `courses` та `assignments`.
3. Повертається структура з найближчими дедлайнами та статистикою.

---

## 7. Висновок

У межах лабораторної роботи №2 було спроєктовано архітектуру застосунку StudyFlow, визначено основні компоненти системи, побудовано модель даних та описано ключові сценарії роботи з даними. Отримана структура створює основу для подальшої реалізації функціоналу в наступних лабораторних роботах.
